---
title: Test Suite Stats
layout: common
---
<!-- Google API library -->
<script src="https://apis.google.com/js/api.js"></script>
<!-- Chart JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>

<div class="row">

	<div class="col-sm-6 mb-3 mb-sm-0">
		<div class="card" style="width: 100%;">

			<canvas id="sizeOfSuite" class="card-img-top"></canvas>
			<div class="card-body">
				<h5 class="card-title">Size of Test Suite</h5>
				<p class="card-text">Measures the number of tests executed in each run.</p>
			</div>
		</div>
	</div>
	
	<script>
		// Load the Google Sheets API library
			gapi.load('client', start);
			const CLIENT_ID = '807779832795-l128mbc10tktcqrru8a608k7ckbinv2e.apps.googleusercontent.com';
			const API_KEY = 'AIzaSyC5NavcIm75OfGPnFbmEDZqbShoUaSgBgk';
			const SPREADSHEET_ID = '1UjaaOCSGNLWW5hYdtw52P5s_PTBWexHW4_CmwHwvCps';
			const RANGE = 'Size of Test Suite:!A:B';

			// Load the API client and authorize the client
			function start() {
				gapi.client.init({
					'apiKey': API_KEY,
					'clientId': CLIENT_ID,
					'scope': 'https://www.googleapis.com/auth/spreadsheets.readonly',
					'discoveryDocs': [ 'https://sheets.googleapis.com/$discovery/rest?version=v4' ],
				}).then(function () {
					// Fetch the data from the Google Sheet
					return gapi.client.sheets.spreadsheets.values.get({
						spreadsheetId: SPREADSHEET_ID,
						range: RANGE
					});
				}).then(function (response) {
					var values = response.result.values;

					// Extract the data from the response
					var labels = values.map(function (row) {
						return row[ 0 ];
					});

					var data = values.map(function (row) {
						return parseInt(row[ 1 ]);
					});

					// Render the chart using Chart.js
					var ctx = document.getElementById('sizeOfSuite').getContext('2d');
					new Chart(ctx, {
						type: 'bar',
						data: {
							labels: labels,
							datasets: [ {
								label: 'Data',
								data: data,
								backgroundColor: 'rgba(75, 192, 192, 0.2)',
								borderColor: 'rgba(75, 192, 192, 1)',
								borderWidth: 1
							} ]
						},
						options: {
							responsive: true,
							scales: {
								y: {
									beginAtZero: true
								}
							}
						}
					});
				}, function (error) {
					console.error('Error loading Google Sheets API:', error);
				});
			}

	</script>

	<div class="col-sm-6">
		<div class="card" style="width: 100%;">
			<canvas id="executionTime" class="card-img-top"></canvas>
			<div class="card-body">
				<h5 class="card-title">Execution Time</h5>
				<p class="card-text">The amount of time it takes for the test suite to complete.</p>
			</div>
		</div>
	</div>
</div>

<hr />

<div class="row">
	
	<div class="col-sm-6 mb-3 mb-sm-0">
		<div class="card" style="width: 100%;">
			<canvas id="numberOfFailures" class="card-img-top"></canvas>
			<div class="card-body">
				<h5 class="card-title">Number of Failures</h5>
				<p class="card-text">The number of tests marked as failing each run.</p>
			</div>
		</div>
	</div>


<div class="col-sm-6">
		<div class="card" style="width: 100%;">
			<canvas id="numberOfFlakes" class="card-img-top"></canvas>
			<div class="card-body">
				<h5 class="card-title">Number of Flaky Tests</h5>
				<p class="card-text">The number of tests marked as flaky each run.</p>
			</div>
		</div>
	</div>

</div>